(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,n){e.exports={mainrow:"Login_mainrow__L3K3d",formContainer:"Login_formContainer__3Mof8",heading:"Login_heading__l25Qn",widget:"Login_widget__2glov",form:"Login_form__2BlNc",toggle:"Login_toggle__36--p",button:"Login_button__JGD-F",dividingLine:"Login_dividingLine__1a2sN",loginText:"Login_loginText__yerr5",RightImage:"Login_RightImage__36EGr"}},172:function(e,t){},174:function(e,t){},184:function(e,t){},186:function(e,t){},213:function(e,t){},215:function(e,t){},216:function(e,t){},22:function(e,t,n){e.exports={mainrow:"Signup_mainrow__26RRF",widget:"Signup_widget__DZI4a",formContainer:"Signup_formContainer__O6m5z",form:"Signup_form__IDVe2",heading:"Signup_heading__vPecG",inputs:"Signup_inputs__2HRNt",dividingLine:"Signup_dividingLine__1t7iB",signupText:"Signup_signupText__2POO8",RightImage:"Signup_RightImage__1UrhB",Logo:"Signup_Logo__1zAnY",button:"Signup_button__1b8Rt"}},221:function(e,t){},223:function(e,t){},242:function(e,t){},254:function(e,t){},257:function(e,t){},277:function(e,t,n){},278:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(26),i=n.n(s),o=n(5),r=n(15),l=n(283),j=n(280),d=n(284),u=n(42),b=n.n(u),h=n(1),g=function(e){return Object(h.jsx)("header",{children:Object(h.jsx)(l.a,{className:b.a.header1,children:Object(h.jsxs)(j.a,{className:b.a.header,children:[Object(h.jsx)(l.a.Brand,{as:r.b,to:"/",className:b.a.logo,children:"Cipher Results"}),Object(h.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(h.jsx)(l.a.Collapse,{id:"basic-navbar-nav",children:Object(h.jsx)(d.a,{className:b.a.navLinks,children:e.isloggedIn?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(d.a.Link,{onClick:function(){return e.logout(!1)},as:r.b,to:"/",children:"Logout"})}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(d.a.Link,{as:r.b,to:"/signup",className:b.a.links,children:"Signup"}),Object(h.jsx)(d.a.Link,{as:r.b,to:"/login",className:b.a.links,children:"Login"})]})})})]})})})},O=n(13),m=n.n(O),p=n(281),f=n(157),x=n(285),_=n(282),v=n(8),N=n(10),y=(n(53),function(e){var t=e.loginStatus,n=e.collectUserDetails,c=e.configToast,s=Object(v.f)(),i=Object(a.useState)(""),l=Object(o.a)(i,2),d=l[0],u=l[1],b=Object(a.useState)(""),g=Object(o.a)(b,2),O=g[0],y=g[1],w=Object(a.useState)(""),S=Object(o.a)(w,2),C=S[0],I=S[1],T=Object(a.useState)(!0),L=Object(o.a)(T,2),R=L[0],P=L[1],k=Object(a.useState)(""),G=Object(o.a)(k,2),E=G[0],B=G[1],D=function(e){s(e)},F=function(e){if(e.preventDefault(),c(),R){if(!d||!O)return void Object(N.a)("Please fill all details");fetch("http://localhost:8080/login/student",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({rollnumber:d,studentPassword:O})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?Object(N.a)(e.error):(Object(N.a)(e.message),localStorage.setItem("jwtToken",e.jwtToken),n(e.userId),t(!0),D("/viewresults"))})).catch((function(e){console.log(e),Object(N.a)("Oops! Something went wrong \ud83d\ude25")}))}else{if(!E||!C)return void Object(N.a)("Please fill all feilds");fetch("http://localhost:8080/login/admin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:E,adminPassword:C})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?Object(N.a)(e.error):(Object(N.a)(e.message),localStorage.setItem("jwtToken",e.jwtToken),t(!0),D("/uploadresults"))})).catch((function(e){console.log(e),Object(N.a)("Oops! Something went wrong \ud83d\ude25")}))}};return Object(h.jsxs)(p.a,{className:m.a.mainrow,children:[Object(h.jsx)(f.a,{children:Object(h.jsx)(j.a,{className:m.a.formContainer,children:R?Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:m.a.widget,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(f.a,{className:m.a.heading,children:Object(h.jsx)("h1",{children:"Login"})}),Object(h.jsx)(f.a,{onClick:function(){return P(!1)},className:m.a.toggle,children:"Student \u25bc"})]}),Object(h.jsxs)("form",{className:m.a.form,onSubmit:function(e){return F(e)},children:[Object(h.jsxs)(x.a.Group,{className:"mb-3",controlId:"formBasicRollNumber",children:[Object(h.jsx)(x.a.Label,{children:"Roll Number"}),Object(h.jsx)(x.a.Control,{className:m.a.inputs,type:"string",placeholder:"Enter Roll Number",value:d,onChange:function(e){u(e.target.value)}})]}),Object(h.jsxs)(x.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(h.jsx)(x.a.Label,{children:"Password"}),Object(h.jsx)(x.a.Control,{className:m.a.inputs,type:"password",placeholder:"Password",value:O,onChange:function(e){y(e.target.value)}})]}),Object(h.jsx)(_.a,{variant:"primary",type:"submit",id:m.a.button,children:"Submit"})]}),Object(h.jsx)("p",{className:m.a.dividingLine,children:"\u2003Or\u2003"}),Object(h.jsx)(r.b,{className:m.a.loginText,to:"/signup",children:"Don\u2019t have an account? Sign Up here"})]})}):Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:m.a.widget,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(f.a,{className:m.a.heading,children:Object(h.jsx)("h1",{children:"Login"})}),Object(h.jsx)(f.a,{onClick:function(){return P(!0)},className:m.a.toggle,children:"Admin \u25b2"})]}),Object(h.jsxs)("form",{className:m.a.form,onSubmit:function(e){return F(e)},children:[Object(h.jsxs)(x.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(h.jsx)(x.a.Label,{children:"Email"}),Object(h.jsx)(x.a.Control,{className:m.a.inputs,type:"email",placeholder:"Enter college Email",value:E,onChange:function(e){B(e.target.value)}})]}),Object(h.jsxs)(x.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(h.jsx)(x.a.Label,{children:"Password"}),Object(h.jsx)(x.a.Control,{className:m.a.inputs,type:"password",placeholder:"Password",value:C,onChange:function(e){I(e.target.value)}})]}),Object(h.jsx)(_.a,{variant:"primary",type:"submit",id:m.a.button,children:"Submit"})]})]})})})}),Object(h.jsx)(f.a,{children:Object(h.jsx)("div",{className:m.a.RightImage})})]})}),w=n.p+"static/media/home.9dfaedfa.jpeg",S=n(34),C=n.n(S),I=function(){return Object(h.jsxs)("div",{className:C.a.mainrow,children:[Object(h.jsx)("div",{className:C.a.container,children:Object(h.jsxs)("div",{className:C.a.textContainer,children:[Object(h.jsx)("div",{className:C.a.head,children:"Results that are visible"}),Object(h.jsx)("div",{className:C.a.head,children:"only to you"}),Object(h.jsx)("div",{className:C.a.text,children:Object(h.jsx)("p",{children:"Our website provides professors to upload grades and students to view their grades. Our website ensures confidentiality of student's grades with the help of Asymmetric Key Encryption."})}),Object(h.jsx)(_.a,{id:C.a.button,as:r.b,to:"/signup",children:"Get Started \u2192"})]})}),Object(h.jsx)("div",{children:Object(h.jsx)("img",{alt:"homepage",src:w,className:C.a.image})})]})},T=n(22),L=n.n(T),R=function(e){var t=e.collectUserDetails,n=e.configToast,c=Object(v.f)(),s=Object(a.useState)(""),i=Object(o.a)(s,2),l=i[0],d=i[1],u=Object(a.useState)(""),b=Object(o.a)(u,2),g=b[0],O=b[1],m=Object(a.useState)(""),y=Object(o.a)(m,2),w=y[0],S=y[1],C=Object(a.useState)(!1),I=Object(o.a)(C,2),T=I[0],R=I[1],P=function(){R(!1)},k=function(e){e.preventDefault(),n(),l&&g&&w?(R(!0),fetch("http://localhost:8080/signup/student",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({rollnumber:l,email:g,password:w})}).then((function(e){return e.json()})).then((function(e){e.error?(Object(N.a)(e.error),P()):(Object(N.a)(e.message),P(),t(e.userId),c("/signup/verifyotp",{replace:!0}))})).catch((function(e){console.log(e),Object(N.a)("Oops! Something went wrong \ud83d\ude25"),P()}))):Object(N.a)("All fields are necessary")};return Object(h.jsx)("form",{onSubmit:function(e){return k(e)},className:L.a.mainrow,children:Object(h.jsxs)(p.a,{children:[Object(h.jsx)(f.a,{className:L.a.widget,children:Object(h.jsx)(j.a,{className:L.a.formContainer,children:Object(h.jsxs)("div",{className:L.a.form,children:[Object(h.jsx)("div",{children:Object(h.jsx)(f.a,{className:L.a.heading,children:Object(h.jsx)("h1",{children:"Signup"})})}),Object(h.jsxs)(x.a.Group,{className:"mb-3",controlId:"formBasicRollNumber",children:[Object(h.jsx)(x.a.Label,{children:"Roll Number"}),Object(h.jsx)(x.a.Control,{required:!0,className:L.a.inputs,type:"string",placeholder:"20XXBCS-XXX",value:l,onChange:function(e){d(e.target.value)}})]}),Object(h.jsxs)(x.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(h.jsx)(x.a.Label,{children:"Email"}),Object(h.jsx)(x.a.Control,{required:!0,className:L.a.inputs,type:"email",placeholder:"Enter college mail Id ",value:g,onChange:function(e){O(e.target.value)}})]}),Object(h.jsxs)(x.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(h.jsx)(x.a.Label,{children:"Password"}),Object(h.jsx)(x.a.Control,{required:!0,className:L.a.inputs,type:"password",placeholder:"Password",value:w,onChange:function(e){S(e.target.value)}})]}),Object(h.jsx)(_.a,{variant:"light",type:"submit",id:L.a.button,children:T?"Loading...":"Send OTP"}),Object(h.jsx)("p",{className:L.a.dividingLine,children:"\u2003Or\u2003"}),Object(h.jsx)(r.b,{className:L.a.signupText,to:"/login",children:"Already have an account? Login here"})]})})}),Object(h.jsx)(f.a,{children:Object(h.jsx)("div",{className:L.a.RightImage})})]})})},P=n(63),k=n.n(P),G=n(104),E=function(e){var t=Object(v.f)(),n=e.userId,c=e.configToast,s=e.isloggedIn,i=e.collectResults;Object(a.useEffect)((function(){s||t("/login",{replace:!0})}),[s,t]);var r=Object(a.useState)(""),l=Object(o.a)(r,2),j=l[0],d=l[1],u=Object(a.useState)(""),b=Object(o.a)(u,2),g=b[0],O=b[1],m=function(e){var n=new G(g).decrypt(e.result,"utf8");console.log(n),i(n),t("/viewresults/display",{replace:!0})},p=function(e){O(e.target.result)};return Object(h.jsx)("div",{className:k.a.container,children:Object(h.jsxs)(x.a,{className:k.a.widget,encType:"multipart/form-data",children:[Object(h.jsx)("div",{className:k.a.heading,children:"Check Results"}),Object(h.jsxs)(x.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(h.jsx)(x.a.Label,{children:"Semester Number"}),Object(h.jsx)(x.a.Control,{type:"number",value:j,onChange:function(e){d(e.target.value)},placeholder:"Enter Semester Number"})]}),Object(h.jsxs)(x.a.Group,{controlId:"formFile",className:"mb-3",children:[Object(h.jsx)(x.a.Label,{children:"Upload Private Key"}),Object(h.jsx)(x.a.Control,{type:"file",accept:".txt",onChange:function(e){!function(e){var t=new FileReader;t.onload=p,t.readAsText(e.target.files[0])}(e)}})]}),Object(h.jsx)(_.a,{variant:"primary",onClick:function(e){return function(e){e.preventDefault(),c(),n&&j&&g?j>10||j<0?Object(N.a)("Please enter a valid semester"):fetch("http://localhost:8080/viewresults",{method:"post",headers:{"Content-Type":"application/json",jwtkey:localStorage.getItem("jwtToken")},body:JSON.stringify({semester:j,userId:n})}).then((function(e){return e.json()})).then((function(e){e.error?Object(N.a)(e.error):m(e)})).catch((function(e){console.log(e),Object(N.a)("Oops! Something went wrong \ud83d\ude25")})):Object(N.a)("Please fill all the fields")}(e)},id:k.a.button,type:"submit",children:"Submit"})]})})},B=n(51),D=n.n(B),F=n(104),U=function(e){var t=e.userId,n=e.configToast,c=Object(v.f)(),s=Object(a.useState)(""),i=Object(o.a)(s,2),r=i[0],l=i[1],d=function(e){if(e.preventDefault(),n(),r){var a=function(){var e=new F({b:1024});return{publicKey:e.exportKey("public"),privateKey:e.exportKey("private")}}(),s=a.publicKey,i=a.privateKey;fetch("http://localhost:8080/signup/emailverify",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,OTP:r,publicKey:s})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?Object(N.a)(e.error):(Object(N.a)(e.message),function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("".concat(e.rollnumber," - Private-Key.txt"),i),c("/login",{replace:!0}))})).catch((function(e){console.log(e),Object(N.a)("Oops! Something went wrong \ud83d\ude25")}))}else Object(N.a)("Please enter OTP")};return Object(h.jsx)("form",{onSubmit:function(e){return d(e)},className:D.a.container,children:Object(h.jsxs)(j.a,{className:D.a.widget,children:[Object(h.jsx)("div",{className:D.a.heading,children:"Verification"}),Object(h.jsxs)(x.a.Group,{className:"mb-3",children:[Object(h.jsx)(x.a.Label,{children:"Enter OTP"}),Object(h.jsx)(x.a.Control,{className:D.a.inputs,type:"string",placeholder:"OTP",value:r,onChange:function(e){l(e.target.value)}})]}),Object(h.jsx)(_.a,{variant:"dark",type:"Submit",className:D.a.button,children:"Submit"})]})})},H=n(76),A=n(52),K=n.n(A),J=function(e){var t=Object(v.f)(),n=e.configToast,c=e.isloggedIn;Object(a.useEffect)((function(){c||t("/login",{replace:!0})}),[c,t]);var s=Object(a.useState)(""),i=Object(o.a)(s,2),r=i[0],l=i[1],j=Object(a.useState)(""),d=Object(o.a)(j,2),u=d[0],b=d[1],g=Object(a.useState)(""),O=Object(o.a)(g,2),m=O[0],p=O[1],f=Object(a.useState)(""),y=Object(o.a)(f,2),w=y[0],S=y[1],C=function(e){e.preventDefault(),n();if(r&&u&&m&&w)if(r>2030||r<1980||m>10||m<0||!["IMT","BCS","IMG"].includes(u))Object(N.a)("Enter valid inputs");else{var t=new FormData;t.append("resultsFile",w),t.append("year",r),t.append("group",u),t.append("semesterNumber",m);var a,c=Object(H.a)(t.entries());try{for(c.s();!(a=c.n()).done;){var s=a.value;console.log(s[0]+", "+s[1])}}catch(i){c.e(i)}finally{c.f()}fetch("http://localhost:8080/uploadresults",{method:"post",headers:{jwtkey:localStorage.getItem("jwtToken")},body:t}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?Object(N.a)(e.error):(Object(N.a)(e.message),l(""),b(""),p(""),S(""))})).catch((function(e){console.log(e),Object(N.a)("Oops! Something went wrong \ud83d\ude25")}))}else Object(N.a)("Please fill all the fields")};return Object(h.jsx)("div",{className:K.a.container,children:Object(h.jsxs)(x.a,{className:K.a.widget,encType:"multipart/form-data",children:[Object(h.jsx)("div",{className:K.a.heading,children:"Upload Results"}),Object(h.jsxs)(x.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(h.jsx)(x.a.Label,{children:"Year"}),Object(h.jsx)(x.a.Control,{value:r,type:"number",placeholder:"eg: 2019",onChange:function(e){l(e.target.value)}})]}),Object(h.jsxs)(x.a.Group,{className:"mb-3",children:[Object(h.jsx)(x.a.Label,{children:"Group"}),Object(h.jsx)(x.a.Control,{className:K.a.inputs,type:"string",placeholder:"BCS/IMT/IMG ",value:u,onChange:function(e){b(e.target.value)}})]}),Object(h.jsxs)(x.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(h.jsx)(x.a.Label,{children:"Semester Number"}),Object(h.jsx)(x.a.Control,{value:m,type:"number",placeholder:"Semester Number",onChange:function(e){p(e.target.value)}})]}),Object(h.jsxs)(x.a.Group,{controlId:"formFile",className:"mb-3",children:[Object(h.jsx)(x.a.Label,{children:"Upload Results CSV file"}),Object(h.jsx)(x.a.Control,{type:"file",accept:".csv",onChange:function(e){S(e.target.files[0])}})]}),Object(h.jsx)(_.a,{onClick:function(e){return C(e)},variant:"dark",id:K.a.button,type:"submit",children:"Submit"})]})})},V=n(78),M=n.n(V),X=function(e){var t=e.results,n=e.isloggedIn,c=JSON.parse(t);console.log("hello",c);var s=Object(v.f)();return Object(a.useEffect)((function(){n||s("/login",{replace:!0})}),[n,s]),Object(h.jsxs)("div",{className:M.a.container,children:[Object(h.jsx)("div",{className:M.a.heading,children:"Grade Report"}),Object(h.jsx)("div",{className:M.a.rollnumber,children:c.rollnumber}),Object(h.jsxs)("table",{bordered:!0,hover:!0,variant:"dark",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:" Subject "}),Object(h.jsx)("th",{children:" Grade "})]})}),Object(h.jsx)("tbody",{children:Object.keys(c).map((function(e){return"rollnumber"!==e?Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e})," ",Object(h.jsxs)("td",{children:[" ",c[e]]})]}):""}))})]})]})};n(277);var q=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),i=Object(o.a)(s,2),l=i[0],j=i[1],d=Object(a.useState)({}),u=Object(o.a)(d,2),b=u[0],O=u[1],m=function(e){O(e)},p=function(e){c(e),e||j("")},f=function(e){j(e)},x=function(){N.a.configure({pauseOnHover:!0,draggable:!0,autoClose:3e3,position:N.a.POSITION.BOTTOM_RIGHT})},_=function(){return Object(h.jsxs)(v.c,{children:[Object(h.jsx)(v.a,{exact:!0,path:"/",element:Object(h.jsx)(I,{})}),Object(h.jsx)(v.a,{exact:!0,path:"/signup",element:Object(h.jsx)(R,{configToast:x,collectUserDetails:f})}),Object(h.jsx)(v.a,{exact:!0,path:"/login",element:Object(h.jsx)(y,{configToast:x,collectUserDetails:f,loginStatus:p})}),Object(h.jsx)(v.a,{exact:!0,path:"/viewresults",element:Object(h.jsx)(E,{isloggedIn:n,configToast:x,userId:l,collectResults:m})}),Object(h.jsx)(v.a,{exact:!0,path:"/uploadresults",element:Object(h.jsx)(J,{isloggedIn:n,configToast:x})}),Object(h.jsx)(v.a,{exact:!0,path:"/signup/verifyotp",element:Object(h.jsx)(U,{configToast:x,userId:l})}),Object(h.jsx)(v.a,{exact:!0,path:"/viewresults/display",element:Object(h.jsx)(X,{isloggedIn:n,results:b})})]})};return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(r.a,{children:[Object(h.jsx)(g,{isloggedIn:n,logout:p}),Object(h.jsx)(_,{})]})})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,286)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(q,{})}),document.getElementById("root")),Y()},34:function(e,t,n){e.exports={container:"Homepage_container__RGt4c",textContainer:"Homepage_textContainer__3AqsZ",head:"Homepage_head__1w7iy",text:"Homepage_text__2Axx6",button:"Homepage_button__160Qd",image:"Homepage_image__1MOCh"}},42:function(e,t,n){e.exports={navLinks:"Header_navLinks__3cmNR",header1:"Header_header1__3GBRp",logo:"Header_logo__XGHaC",links:"Header_links__2JAbQ"}},51:function(e,t,n){e.exports={container:"VerifyOTP_container__JmBeI",widget:"VerifyOTP_widget__3exji",heading:"VerifyOTP_heading__1Y2Xp",button:"VerifyOTP_button__2XTWE"}},52:function(e,t,n){e.exports={container:"UploadResults_container__dZYd4",widget:"UploadResults_widget__1ERM7",heading:"UploadResults_heading__2XbP0",button:"UploadResults_button__vTy6E"}},63:function(e,t,n){e.exports={container:"ViewResults_container__3KKE_",widget:"ViewResults_widget__vTnW7",heading:"ViewResults_heading__1Pap3",button:"ViewResults_button__6JUkI"}},78:function(e,t,n){e.exports={container:"DisplayResults_container__3aA71",heading:"DisplayResults_heading__iSD7w",rollnumber:"DisplayResults_rollnumber__wCnoj"}}},[[278,1,2]]]);
//# sourceMappingURL=main.00468693.chunk.js.map